//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  (c) 2010-present DEMOS plan GmbH.
//
//  This file is part of the package demosplan,
//  for more information see the license file.
//
//  All rights reserved
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//  object: o-modal

//  Keyframe animations for modal
@keyframes modal-open {
    from {
        opacity: 0;
        transform: scale(.6) translateY(10%);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes modal-close {
    from {
        opacity: 1;
        transform: scale(1) translateY(0);
    }

    to {
        opacity: 0;
        transform: scale(.6) translateY(10%);
    }
}

@keyframes backdrop-open {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes backdrop-close {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

//  object container for modal using native <dialog> element
.o-modal {
    $modal-bg-color: rgb(0 0 0 / 60%);

    &__content {
        // Reset dialog default styles
        border: none;
        padding: 0;

        // Position and size
        margin: auto;
        width: $dp-page-width - $inuit-base-spacing-unit--huge;
        height: fit-content;

        // Limit dimensions for small viewports
        max-width: calc(100% - #{$inuit-base-spacing-unit});
        max-height: calc(100% - #{$inuit-base-spacing-unit});
        overflow: auto;

        // Appearance
        background-color: $dp-color-white;
        box-shadow: $dp-box-shadow-lg;
        border-radius: $dp-rounded-medium;

        // Backdrop styling using ::backdrop pseudo-element
        &::backdrop {
            background-color: $modal-bg-color;
            cursor: pointer;
        }

        // Opening animation
        &.o-modal--opening {
            animation: modal-open .2s cubic-bezier(.5, 0, .5, 1) forwards;

            &::backdrop {
                animation: backdrop-open .2s linear forwards;
            }
        }

        // Closing animation
        &.o-modal--closing {
            animation: modal-close .2s cubic-bezier(.5, 0, .5, 1) forwards;

            &::backdrop {
                animation: backdrop-close .2s linear forwards;
            }
        }
    }

    &__body {
        overflow: hidden auto;
        padding: $inuit-base-spacing-unit;
        margin: 0;
        height: auto;
    }

    // Can be removed in favor of implementing an `inverted` prop in DpBadge
    &.recommendation-modal {
        li:hover {
            background-color: $dp-color-background-light;

            .badge {
                background-color: $dp-color-main;
            }
        }
    }
}
